[{"C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\index.js":"1","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\App.js":"2","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\reportWebVitals.js":"3","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Main.js":"4","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\tools\\connection.js":"5","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Home.js":"6","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Login.js":"7","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\std\\SocketCommunication.js":"8","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Game.js":"9"},{"size":448,"mtime":1612549888231,"results":"10","hashOfConfig":"11"},{"size":185,"mtime":1613143410651,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":3607,"mtime":1613325604275,"results":"14","hashOfConfig":"11"},{"size":2311,"mtime":1613240258052,"results":"15","hashOfConfig":"11"},{"size":921,"mtime":1613252229071,"results":"16","hashOfConfig":"11"},{"size":1331,"mtime":1613224278770,"results":"17","hashOfConfig":"11"},{"size":1048,"mtime":1613148084317,"results":"18","hashOfConfig":"11"},{"size":1323,"mtime":1613417754736,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"uen85c",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\index.js",[],["44","45"],"C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\App.js",["46"],"import './App.css';\nimport Main from './components/Main';\nimport React, { Component } from 'react';\n\nconst App = () => {\n\n    return (\n      <Main></Main>\n    );\n}\n\nexport default App;\n","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\reportWebVitals.js",[],"C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Main.js",["47","48","49","50","51","52","53","54","55","56","57","58"],"import useWebSocket from 'react-use-websocket';\r\nimport React, { Component, useState, useEffect, useRef, createRef } from 'react';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Redirect,\r\n    withRouter,\r\n    useHistory\r\n} from \"react-router-dom\";\r\nimport { addToken, getSessionId, getToken, ping, setSessionId } from '../tools/connection';\r\nimport Home from './Home';\r\nimport Login from './Login';\r\nimport { SocketCommunication } from \"../std/SocketCommunication\";\r\nimport Game from './Game';\r\n\r\n\r\n//const client = new W3CWebSocket('ws://127.0.0.1:3001');\r\n/**\r\n * Hauptsächlich für das Routen zuständig\r\n */\r\nconst Main = () => {\r\n    const socketUrl = 'ws://127.0.0.1:3001';\r\n\r\n    const loginChild = createRef();\r\n    const createGameChild = createRef();\r\n    const getGameChild = createRef();\r\n\r\n    const {\r\n        sendMessage,\r\n        sendJsonMessage,\r\n        lastMessage,\r\n        lastJsonMessage,\r\n        readyState,\r\n        getWebSocket\r\n    } = useWebSocket(socketUrl, {\r\n        onOpen: e => {\r\n            console.log('WebSocket Client Connected');\r\n        },\r\n        share: true,\r\n        onMessage: e => {\r\n            let data = new SocketCommunication();\r\n            data.set(e.data);\r\n            //setSessionId(data.id);\r\n            switch (data.type) {\r\n                case 'sessionId':\r\n                    setSessionId(data.id);\r\n                    console.log(getSessionId());\r\n                    break;\r\n                case 'login':\r\n                    console.log(data.token);\r\n                    addToken(data.token);\r\n                    loginChild.current.goHome();\r\n                    break;\r\n                case 'creategame':\r\n                    console.log(\"reseaved new game\");\r\n                    createGameChild.current.goGame(data.data._id);\r\n                    break;\r\n                case 'joingame':\r\n                    console.log(\"getting game\");\r\n                    getGameChild.current.loadGame(data.data);\r\n                    break;\r\n                case 'updateplayerlist':\r\n                    console.log('new player joined game');\r\n                    getGameChild.current.updatePlayerList(data.data);\r\n                    break;\r\n                default:\r\n                    console.log(data);\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n\r\n    const send = (type, data) => {\r\n        let s = new SocketCommunication(type, getSessionId(), getToken(), data).getMsg();\r\n        console.log(JSON.parse(s));\r\n        sendMessage(s);\r\n    }\r\n\r\n    useEffect(() => {\r\n        //TODO: sessionID wird nach reload neu generiert, aber nicht richtig gesetzt\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <p className=\"debug\">{\"token: \" + getToken()}</p>\r\n                <p className=\"debug\">{\"sessionID: \" + getSessionId()}</p>\r\n            </div>\r\n            <Router>\r\n                <div>\r\n                    <Switch>\r\n                        <Route exact path=\"/\"><Home send={send} ref={createGameChild}></Home></Route>\r\n                        <Route path=\"/home\"><Home send={send} ref={createGameChild}></Home></Route>\r\n                        <Route path=\"/login\"><Login send={send} ref={loginChild}></Login></Route>\r\n                        <Route exact path=\"/game\"><Game send={send} ref={getGameChild}></Game></Route>\r\n                        <Route path=\"/game/:id\"><Game send={send} ref={getGameChild}></Game></Route>\r\n                    </Switch>\r\n                </div>\r\n            </Router>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main\r\n","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\tools\\connection.js",[],"C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Home.js",["59","60","61","62","63"],"import React, { Component, forwardRef, useImperativeHandle } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useHistory\r\n} from \"react-router-dom\";\r\nimport { getUser } from '../tools/connection';\r\n\r\n\r\nconst Home = forwardRef((props, ref) => {\r\n    const history = useHistory();\r\n\r\n    const createGame = () => {\r\n        props.send('creategame', null);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        goGame (id) {\r\n            history.push('/game/'+id);\r\n        }\r\n    }));\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1>Home</h1>\r\n                <p className=\"debug\">{\"Name: \" + getUser().name}</p>\r\n                <p className=\"debug\">{\"ID: \" + getUser().id}</p>\r\n            </div>\r\n            <button onClick={createGame}>New Game</button>\r\n            <button>Join Game</button>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default Home\r\n","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Login.js",["64","65","66","67","68"],"import React, { Component, forwardRef, useEffect, useImperativeHandle, useRef, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { checkAccess, login } from '../tools/connection';\r\n\r\nconst Login = forwardRef ((props, ref) => {\r\n    const history = useHistory();\r\n    var [name, setName] = useState('');\r\n    var [pwd, setPwd] = useState('');\r\n\r\n    console.log(ref);\r\n\r\n    const update = e => {\r\n        if(e.target.id==='name')\r\n            setName(e.target.value);\r\n        else if (e.target.id==='pwd')\r\n            setPwd(e.target.value);\r\n    }\r\n\r\n    useImperativeHandle(ref, () => ({\r\n        goHome () {\r\n            history.push('/home');\r\n        }\r\n    }));\r\n\r\n    const commit = () => {\r\n        props.send('login', {name: name, pwd: pwd});\r\n        //login(send, name, pwd);\r\n    }\r\n\r\n    const check = () => {\r\n        props.send('sec',\"hi\");\r\n        //checkAccess(client.current);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <input placeholder=\"Name\" value={name} id=\"name\" onChange={update}></input>\r\n            <input placeholder=\"Password\" value={pwd} id=\"pwd\" onChange={update}></input>\r\n            <button onClick={commit}>Send</button>\r\n            <button onClick={check}>Check</button>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default Login\r\n","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\std\\SocketCommunication.js",["69"],"export class SocketCommunication {\r\n\r\n    constructor(type, id, token, data) {\r\n        this.type = type;\r\n        this.data = data;\r\n        this.id = id;\r\n        this.token = token;\r\n    }\r\n\r\n    /**\r\n     * @returns Object as sendable string\r\n     */\r\n    getMsg() {\r\n        return JSON.stringify({type: this.type, id: this.id, token: this.token, data: this.data});\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {string} s string that has been received via websocket\r\n     */\r\n    set(s) {\r\n        try {\r\n            let e = JSON.parse(s);\r\n            if(e.type!==undefined) {\r\n                this.type = e.type;\r\n                this.data = e.data;\r\n                this.id = e.id;\r\n                this.token = e.token;\r\n            } else {\r\n                throw \"undefined object\";\r\n            }\r\n        } catch(ex) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\nexport default SocketCommunication","C:\\Users\\matth\\Documents\\dev_projects_nosync\\quiz-app\\quiz-app\\src\\components\\Game.js",["70","71"],{"ruleId":"72","replacedBy":"73"},{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","severity":1,"message":"77","line":3,"column":17,"nodeType":"78","messageId":"79","endLine":3,"endColumn":26},{"ruleId":"76","severity":1,"message":"77","line":2,"column":17,"nodeType":"78","messageId":"79","endLine":2,"endColumn":26},{"ruleId":"76","severity":1,"message":"80","line":2,"column":28,"nodeType":"78","messageId":"79","endLine":2,"endColumn":36},{"ruleId":"76","severity":1,"message":"81","line":2,"column":49,"nodeType":"78","messageId":"79","endLine":2,"endColumn":55},{"ruleId":"76","severity":1,"message":"82","line":8,"column":5,"nodeType":"78","messageId":"79","endLine":8,"endColumn":13},{"ruleId":"76","severity":1,"message":"83","line":9,"column":5,"nodeType":"78","messageId":"79","endLine":9,"endColumn":15},{"ruleId":"76","severity":1,"message":"84","line":10,"column":5,"nodeType":"78","messageId":"79","endLine":10,"endColumn":15},{"ruleId":"76","severity":1,"message":"85","line":12,"column":44,"nodeType":"78","messageId":"79","endLine":12,"endColumn":48},{"ruleId":"76","severity":1,"message":"86","line":32,"column":9,"nodeType":"78","messageId":"79","endLine":32,"endColumn":24},{"ruleId":"76","severity":1,"message":"87","line":33,"column":9,"nodeType":"78","messageId":"79","endLine":33,"endColumn":20},{"ruleId":"76","severity":1,"message":"88","line":34,"column":9,"nodeType":"78","messageId":"79","endLine":34,"endColumn":24},{"ruleId":"76","severity":1,"message":"89","line":35,"column":9,"nodeType":"78","messageId":"79","endLine":35,"endColumn":19},{"ruleId":"76","severity":1,"message":"90","line":36,"column":9,"nodeType":"78","messageId":"79","endLine":36,"endColumn":21},{"ruleId":"76","severity":1,"message":"77","line":1,"column":17,"nodeType":"78","messageId":"79","endLine":1,"endColumn":26},{"ruleId":"76","severity":1,"message":"91","line":3,"column":22,"nodeType":"78","messageId":"79","endLine":3,"endColumn":28},{"ruleId":"76","severity":1,"message":"92","line":4,"column":5,"nodeType":"78","messageId":"79","endLine":4,"endColumn":11},{"ruleId":"76","severity":1,"message":"93","line":5,"column":5,"nodeType":"78","messageId":"79","endLine":5,"endColumn":10},{"ruleId":"76","severity":1,"message":"94","line":15,"column":11,"nodeType":"78","messageId":"79","endLine":15,"endColumn":21},{"ruleId":"76","severity":1,"message":"77","line":1,"column":17,"nodeType":"78","messageId":"79","endLine":1,"endColumn":26},{"ruleId":"76","severity":1,"message":"95","line":1,"column":40,"nodeType":"78","messageId":"79","endLine":1,"endColumn":49},{"ruleId":"76","severity":1,"message":"81","line":1,"column":72,"nodeType":"78","messageId":"79","endLine":1,"endColumn":78},{"ruleId":"76","severity":1,"message":"96","line":3,"column":10,"nodeType":"78","messageId":"79","endLine":3,"endColumn":21},{"ruleId":"76","severity":1,"message":"97","line":3,"column":23,"nodeType":"78","messageId":"79","endLine":3,"endColumn":28},{"ruleId":"98","severity":1,"message":"99","line":30,"column":17,"nodeType":"100","messageId":"101","endLine":30,"endColumn":42},{"ruleId":"76","severity":1,"message":"102","line":1,"column":8,"nodeType":"78","messageId":"79","endLine":1,"endColumn":19},{"ruleId":"103","severity":1,"message":"104","line":29,"column":8,"nodeType":"105","endLine":29,"endColumn":10,"suggestions":"106"},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'useRef' is defined but never used.","'Redirect' is defined but never used.","'withRouter' is defined but never used.","'useHistory' is defined but never used.","'ping' is defined but never used.","'sendJsonMessage' is assigned a value but never used.","'lastMessage' is assigned a value but never used.","'lastJsonMessage' is assigned a value but never used.","'readyState' is assigned a value but never used.","'getWebSocket' is assigned a value but never used.","'Router' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'createGame' is assigned a value but never used.","'useEffect' is defined but never used.","'checkAccess' is defined but never used.","'login' is defined but never used.","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object","'queryString' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getGame'. Either include it or remove the dependency array.","ArrayExpression",["109"],"no-global-assign","no-unsafe-negation",{"desc":"110","fix":"111"},"Update the dependencies array to be: [getGame]",{"range":"112","text":"113"},[865,867],"[getGame]"]